{"version":3,"sources":["store.ts","utils/network.ts","hooks/useToken.ts","hooks/useAccounts.ts","components/Account.tsx","components/NetworkIndicator.tsx","hooks/useNetId.ts","components/Header.tsx","components/Footer.tsx","hooks/useContract.ts","components/SimpleBank.tsx","hooks/bank/useBalance.ts","hooks/bank/useSystemBalance.ts","hooks/bank/useApprove.ts","hooks/bank/useDeposit.ts","hooks/bank/useWithdraw.ts","hooks/bank/useIncreaseYear.ts","App.tsx","hooks/useWeb3.ts","index.tsx"],"names":["store","observable","localStorage","getItem","undefined","action","addr","contractAddress","setItem","removeItem","netId","networkData","network","warning","getNetworkData","console","log","netName","netWarning","w3","web3","tokenABI","useToken","tokenAddress","useMemo","eth","Contract","err","warn","useAccounts","useState","accounts","setAccounts","myAccount","setMyAccount","balance","setBalance","token","fetch","useCallback","a","getAccounts","accs","acc","methods","balanceOf","call","result","utils","fromWei","useEffect","Account","observer","className","style","wordBreak","NetworkIndicator","triggerNetId","net","getId","updateNetId","useNetId","Header","isAddress","Footer","abi","inputs","internalType","name","type","outputs","stateMutability","anonymous","indexed","useContract","SimpleBank","contract","options","from","c","Number","useBalance","systemBalance","setSystemBalance","useSystemBalance","approve","loading","setLoading","amount","callback","amountInWei","toWei","confirmed","errored","send","on","error","confirmationNumber","receipt","useApprove","deposit","useDeposit","withdraw","useWithdraw","increaseYear","window","location","reload","useIncreaseYear","depositAmount","setDepositAmount","withdrawAmount","setWithdrawAmount","onClick","value","onChange","e","target","placeholder","App","initWeb3","ethereum","tmpWeb3","Web3","enable","updateWeb3","updateContractAddress","useWeb3","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2b982681.chunk.js","sourcesContent":["import { observable, action } from 'mobx'\nimport { getNetworkData } from './utils/network'\nimport Web3 from 'web3'\n\nconst CONTRACT_ADDRESS_KEY = 'voting_react_contractAddress'\nclass Store {\n  @observable contractAddress: string | undefined = localStorage\n    ? localStorage.getItem(CONTRACT_ADDRESS_KEY) || undefined\n    : undefined\n  @action\n  updateContractAddress = (addr: string | undefined) => {\n    this.contractAddress = addr\n    if (addr) {\n      localStorage.setItem(CONTRACT_ADDRESS_KEY, addr)\n    } else {\n      localStorage.removeItem(CONTRACT_ADDRESS_KEY)\n    }\n  }\n\n  @observable netId: number | null = null\n  @observable netName: string | null = null\n  @observable netWarning: string | null = null\n  @action\n  updateNetId = (netId: number) => {\n    this.netId = netId\n    const networkData = getNetworkData(netId)\n    console.log('Store -> updateNetId -> networkData', networkData)\n    this.netName = networkData?.network\n    this.netWarning = networkData?.warning\n  }\n\n  @observable web3: Web3 | null = null\n  @action\n  updateWeb3 = (w3: Web3) => {\n    this.web3 = w3\n  }\n}\n\nexport const store = new Store()\n","export const getNetworkData = (netId: number) => {\n  let network: string,\n    warning = null\n  switch (netId) {\n    case 1:\n      network = 'Mainnet'\n      warning = 'please switch your network to Kovan or Thai Chain'\n      break\n    case 2:\n      network = 'Deprecated Morden'\n      warning = 'please switch your network to Kovan or Thai Chain'\n      break\n    case 3:\n      network = 'Ropsten'\n      warning = 'please switch your network to Kovan or Thai Chain'\n      break\n    case 4:\n      network = 'Rinkeby'\n      break\n    case 42:\n      network = 'Kovan'\n      break\n    case 5777:\n      network = 'Ganache'\n      break\n    default:\n      network = 'Unknown'\n      warning = 'please switch your network to Kovan or Thai Chain'\n  }\n  return {\n    network,\n    warning,\n  }\n}\n","import { useMemo } from 'react'\nimport { store } from '../store'\n\nconst tokenABI = [\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Approval\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"previousOwner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"from\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Transfer\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"allowance\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"approve\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"decimals\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint8\",\n        \"name\": \"\",\n        \"type\": \"uint8\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"subtractedValue\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"decreaseAllowance\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"addedValue\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"increaseAllowance\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"mint\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"name\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"renounceOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"symbol\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"totalSupply\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"recipient\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transfer\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"sender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"recipient\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transferFrom\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n];\n\nexport const useToken = () => {\n  const web3 = store.web3\n  const tokenAddress = '0x60bf3AF1Ea6653A0779E4738319Ea0981CEA802a'\n  const token = useMemo(() => {\n    if (!web3) return null\n    try {\n      const t = new web3.eth.Contract(tokenABI as any, tokenAddress)\n      return t\n    } catch (err) {\n      console.warn(err)\n      return null\n    }\n  }, [web3, tokenAddress])\n  return token\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { store } from '../store'\nimport { useToken } from './useToken'\n\n\nexport const useAccounts = () => {\n  const web3 = store.web3\n  const [accounts, setAccounts] = useState<string[]>([])\n  const [myAccount, setMyAccount] = useState<string>()\n  const [balance, setBalance] = useState<string>()\n  const token = useToken()\n\n  const fetch = useCallback(async () => {\n    if (!web3 || !token) return\n    const accs = await web3.eth.getAccounts()\n    setAccounts(accs)\n    const acc = accs[0]\n    if (acc) {\n      setMyAccount(acc)\n      const result = await token.methods.balanceOf(acc).call()\n      setBalance(web3.utils.fromWei(result as string))\n    }\n  }, [web3, token])\n  useEffect(() => {\n    fetch()\n  }, [fetch])\n  return {\n    accounts,\n    myAccount,\n    balance,\n  }\n}\n","import React from 'react'\nimport { observer } from 'mobx-react-lite'\nimport { useAccounts } from '../hooks/useAccounts'\n\nexport const Account = observer(() => {\n  const { myAccount, balance } = useAccounts()\n  return (\n    <div className=\"w-full\" style={{ wordBreak: 'break-all' }}>\n      <p className=\"text-lg flex flex-col mb-2\">\n        <span className=\"text-sm font-bold\">Account</span>\n        <span>{myAccount}</span>\n      </p>\n      <p className=\"text-lg flex flex-col\">\n        <span className=\"text-sm font-bold\">Balance</span>\n        <span>{balance} SIM</span>\n      </p>\n    </div>\n  )\n})\n","import React from 'react'\nimport { store } from '../store'\nimport { useNetId } from '../hooks/useNetId'\nimport { observer } from 'mobx-react-lite'\n\nexport const NetworkIndicator = observer(() => {\n  useNetId()\n  return (\n    <div className=\"w-full\">\n      <p className=\"text-lg flex flex-col\">\n        <span className=\"font-bold text-sm\">Network</span>\n        {store.netId ? (\n          <span>{store.netName}</span>\n          ) : (\n          <span>Loading network...</span>\n        )}\n      </p>\n    </div>\n  )\n})\n","import { useEffect, useCallback } from 'react'\nimport { store } from '../store'\n\nexport const useNetId = () => {\n  const web3 = store.web3\n  const triggerNetId = useCallback(async () => {\n    if (web3) {\n      const netId = await web3.eth.net.getId()\n      console.log('triggerNetId -> netId', netId)\n      store.updateNetId(netId)\n    }\n  }, [web3])\n  useEffect(() => {\n    triggerNetId()\n  }, [triggerNetId])\n}\n","import React from 'react'\nimport { Account } from './Account'\n// import { ContractAddress } from './ContractAddress'\nimport { NetworkIndicator } from './NetworkIndicator'\n\ninterface IProps {\n  isAddress: boolean\n}\n\nconst cardStyleTw = `bg-white p-6 rounded-lg shadow-lg flex items-center justify-center`\n\nexport const Header: React.FC<IProps> = ({ isAddress }) => {\n  return (\n    <>\n      <header\n        className={`px-16 py-12 bg-gradient-to-r from-red-400 to-blue-500 ${isAddress ? '' : 'min-h-screen flex items-center justify-center'}`}\n      >\n        <div className=\"grid grid-cols-2 gap-6 w-full max-w-5xl mx-auto\">\n          {/* <div className={cardStyleTw}>\n            <ContractAddress />\n          </div> */}\n          <div className={`${cardStyleTw} flex-col`}>\n            <div className=\"mb-2 w-full\">\n              <NetworkIndicator />\n            </div>\n            <Account />\n          </div>\n        </div>\n      </header>\n    </>\n  )\n}\n","import React from 'react'\n\nexport const Footer = () => {\n  return (\n    <footer className=\"px-16 py-4 text-gray-100 flex justify-center text-sm\">\n      Simple Voting Ethereum Workshop (React Edition)\n    </footer>\n  )\n}\n","import { useMemo } from 'react'\nimport { store } from '../store'\n\n// const abi = [\n//   {\n//       \"inputs\": [\n//           {\n//               \"internalType\": \"string[]\",\n//               \"name\": \"candidateNames\",\n//               \"type\": \"string[]\"\n//           }\n//       ],\n//       \"payable\": false,\n//       \"stateMutability\": \"nonpayable\",\n//       \"type\": \"constructor\"\n//   },\n//   {\n//       \"anonymous\": false,\n//       \"inputs\": [\n//           {\n//               \"indexed\": false,\n//               \"internalType\": \"string\",\n//               \"name\": \"candidate\",\n//               \"type\": \"string\"\n//           },\n//           {\n//               \"indexed\": false,\n//               \"internalType\": \"uint256\",\n//               \"name\": \"count\",\n//               \"type\": \"uint256\"\n//           }\n//       ],\n//       \"name\": \"voted\",\n//       \"type\": \"event\"\n//   },\n//   {\n//       \"constant\": false,\n//       \"inputs\": [\n//           {\n//               \"internalType\": \"string\",\n//               \"name\": \"candidate\",\n//               \"type\": \"string\"\n//           }\n//       ],\n//       \"name\": \"voteForCandidate\",\n//       \"outputs\": [],\n//       \"payable\": false,\n//       \"stateMutability\": \"nonpayable\",\n//       \"type\": \"function\"\n//   },\n//   {\n//       \"constant\": true,\n//       \"inputs\": [],\n//       \"name\": \"candidateCount\",\n//       \"outputs\": [\n//           {\n//               \"internalType\": \"uint256\",\n//               \"name\": \"\",\n//               \"type\": \"uint256\"\n//           }\n//       ],\n//       \"payable\": false,\n//       \"stateMutability\": \"view\",\n//       \"type\": \"function\"\n//   },\n//   {\n//       \"constant\": true,\n//       \"inputs\": [\n//           {\n//               \"internalType\": \"uint256\",\n//               \"name\": \"\",\n//               \"type\": \"uint256\"\n//           }\n//       ],\n//       \"name\": \"candidateList\",\n//       \"outputs\": [\n//           {\n//               \"internalType\": \"string\",\n//               \"name\": \"\",\n//               \"type\": \"string\"\n//           }\n//       ],\n//       \"payable\": false,\n//       \"stateMutability\": \"view\",\n//       \"type\": \"function\"\n//   },\n//   {\n//       \"constant\": true,\n//       \"inputs\": [\n//           {\n//               \"internalType\": \"string\",\n//               \"name\": \"candidate\",\n//               \"type\": \"string\"\n//           }\n//       ],\n//       \"name\": \"totalVotesFor\",\n//       \"outputs\": [\n//           {\n//               \"internalType\": \"uint256\",\n//               \"name\": \"\",\n//               \"type\": \"uint256\"\n//           }\n//       ],\n//       \"payable\": false,\n//       \"stateMutability\": \"view\",\n//       \"type\": \"function\"\n//   }\n// ]\n\nconst abi = [\n    {\n      inputs: [\n        {\n          internalType: 'uint256',\n          name: 'amount',\n          type: 'uint256',\n        },\n      ],\n      name: 'deposit',\n      outputs: [\n        {\n          internalType: 'uint256',\n          name: '',\n          type: 'uint256',\n        },\n      ],\n      stateMutability: 'payable',\n      type: 'function',\n    },\n    {\n      inputs: [],\n      name: 'increaseYear',\n      outputs: [],\n      stateMutability: 'nonpayable',\n      type: 'function',\n    },\n    {\n      inputs: [],\n      stateMutability: 'nonpayable',\n      type: 'constructor',\n    },\n    {\n      anonymous: false,\n      inputs: [\n        {\n          indexed: false,\n          internalType: 'address',\n          name: 'accountAddress',\n          type: 'address',\n        },\n        {\n          indexed: false,\n          internalType: 'uint256',\n          name: 'amount',\n          type: 'uint256',\n        },\n      ],\n      name: 'DepositMade',\n      type: 'event',\n    },\n    {\n      stateMutability: 'nonpayable',\n      type: 'fallback',\n    },\n    {\n      inputs: [\n        {\n          internalType: 'uint256',\n          name: 'withdrawAmount',\n          type: 'uint256',\n        },\n      ],\n      name: 'withdraw',\n      outputs: [\n        {\n          internalType: 'uint256',\n          name: 'remainingBal',\n          type: 'uint256',\n        },\n      ],\n      stateMutability: 'nonpayable',\n      type: 'function',\n    },\n    {\n      inputs: [],\n      name: 'balance',\n      outputs: [\n        {\n          internalType: 'uint256',\n          name: '',\n          type: 'uint256',\n        },\n      ],\n      stateMutability: 'view',\n      type: 'function',\n    },\n    {\n      inputs: [\n        {\n          internalType: 'address',\n          name: '',\n          type: 'address',\n        },\n      ],\n      name: 'balances',\n      outputs: [\n        {\n          internalType: 'uint256',\n          name: '',\n          type: 'uint256',\n        },\n      ],\n      stateMutability: 'view',\n      type: 'function',\n    },\n    {\n      inputs: [],\n      name: 'owner',\n      outputs: [\n        {\n          internalType: 'address',\n          name: '',\n          type: 'address',\n        },\n      ],\n      stateMutability: 'view',\n      type: 'function',\n    },\n    {\n      inputs: [],\n      name: 'systemBalance',\n      outputs: [\n        {\n          internalType: 'uint256',\n          name: '',\n          type: 'uint256',\n        },\n      ],\n      stateMutability: 'view',\n      type: 'function',\n    },\n  ]\nexport const useContract = () => {\n  const web3 = store.web3\n  const addr = store.contractAddress\n  // const addr = '0x9924e50aC6b65D6b50Bf572f7aC4AC811d7BC7de'\n  // const addr = '0xDc30B5342279f6eC13C239CD259163B4599b7Ecf'\n  const contract = useMemo(() => {\n    if (!web3) return null\n    try {\n      const c = new web3.eth.Contract(abi as any, addr)\n      return c\n    } catch (err) {\n      console.warn(err)\n      return null\n    }\n  }, [web3, addr])\n  return contract\n}\n","import React, { useState } from 'react'\nimport { observer } from 'mobx-react-lite'\n\nimport { useBalance } from '../hooks/bank/useBalance'\nimport { useSystemBalance } from '../hooks/bank/useSystemBalance'\nimport { useApprove } from '../hooks/bank/useApprove'\nimport { useDeposit } from '../hooks/bank/useDeposit'\nimport { useWithdraw } from '../hooks/bank/useWithdraw'\nimport { useIncreaseYear } from '../hooks/bank/useIncreaseYear'\n\nexport const SimpleBank = observer(() => {\n  const { balance } = useBalance()\n  const { systemBalance } = useSystemBalance()\n  const { approve } = useApprove()\n  const { deposit } = useDeposit()\n  const { withdraw } = useWithdraw()\n  const { increaseYear } = useIncreaseYear()\n\n  const [depositAmount, setDepositAmount] = useState('0')\n  const [withdrawAmount, setWithdrawAmount] = useState('0')\n\n  return (\n    <div \n      className=\"bg-gradient-to-b from-indigo-900 to-indigo-800 py-12 px-10\" \n    >\n      <div className=\"max-w-5xl mx-auto\">\n\n        <div className=\"flex justify-between mb-4\">\n          <div className=\"text-3xl text-white font-bold\">Simple Bank</div>\n          <div \n            className=\"bg-blue-500 px-6 py-2 cursor-pointer rounded-lg text-lg font-bold\" \n            onClick={() => increaseYear()}\n          >Increase Year</div>\n        </div>\n        \n        <div className=\"grid grid-cols-2 gap-6 mb-6\">\n          <div className=\"bg-white p-4 shadow-lg rounded-lg\">\n            <div className=\"font-bold\">Balance</div>\n            <div className=\"text-2xl\">{balance}</div>\n          </div>\n          <div className=\"bg-white p-4 shadow-lg rounded-lg\">\n            <div className=\"font-bold\">System Balance</div>\n            <div className=\"text-2xl\">{systemBalance}</div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-6\">\n          <div className=\"bg-white rounded-lg shadow-2xl overflow-hidden\">\n            <div className=\"p-4 bg-blue-100 font-bold text-xl\">Deposit</div>\n            <div className=\"p-6\">\n              <input \n                value={depositAmount}\n                onChange={e => setDepositAmount(e.target.value)}\n                placeholder=\"0.00\"\n                className=\"text-lg border border-gray-400 w-full p-3 mb-3\"\n              />\n              <button\n                className=\"p-3 bg-blue-700 text-white px-6 mr-4\"\n                onClick={() => approve(depositAmount, () => {})}\n              >Approve</button>\n              <button \n                className=\"p-3 bg-blue-700 text-white px-6\"\n                onClick={() => deposit(depositAmount, () => setDepositAmount('0'))}\n              >Deposit</button>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-2xl overflow-hidden\">\n            <div className=\"p-4 bg-blue-100 font-bold text-xl\">Withdraw</div>\n            <div className=\"p-6\">\n              <input \n                value={withdrawAmount}\n                onChange={e => setWithdrawAmount(e.target.value)}\n                placeholder=\"0.00\"\n                className=\"text-lg border border-gray-400 w-full p-3 mb-3\"\n              />\n              <button \n                className=\"p-3 bg-blue-700 text-white px-6\"\n                onClick={() => withdraw(withdrawAmount, () => setWithdrawAmount('0'))}\n              >Withdraw</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n})","import { useContract } from '../useContract'\nimport { useCallback, useState, useEffect } from 'react'\nimport { useAccounts } from '../useAccounts'\nimport { store } from '../../store'\n\nexport const useBalance = () => {\n  const web3 = store.web3\n  const [balance, setBalance] = useState<number>(0)\n  const contract = useContract()\n  const { myAccount } = useAccounts()\n\n  const fetch = useCallback(async () => {\n    if (!web3 || !contract || !myAccount) return\n    let options = {\n      from: myAccount,\n    }\n    const c = await contract.methods.balance().call(options)\n    setBalance(Number(web3.utils.fromWei(c as string)))\n  }, [web3, contract, myAccount])\n\n  useEffect(() => {\n    fetch()\n  }, [fetch])\n\n  return {\n    balance,\n    fetch,\n  }\n}\n","import { useContract } from '../useContract'\nimport { useCallback, useState, useEffect } from 'react'\nimport { store } from '../../store'\n\nexport const useSystemBalance = () => {\n  const web3 = store.web3\n  const [systemBalance, setSystemBalance] = useState<number>(0)\n  const contract = useContract()\n\n  const fetch = useCallback(async () => {\n    if (!web3 || !contract) return\n    const c = await contract.methods.systemBalance().call()\n    setSystemBalance(Number(web3.utils.fromWei(c as string)))\n  }, [web3, contract])\n\n  useEffect(() => {\n    fetch()\n  }, [fetch])\n\n  return {\n    systemBalance,\n    fetch,\n  }\n}\n","import { store } from '../../store'\nimport { useToken } from '../useToken'\nimport { useCallback, useState } from 'react'\nimport { useAccounts } from '../useAccounts'\n\nexport const useApprove = () => {\n  const web3 = store.web3\n  const contractAddress = store.contractAddress\n  const token = useToken()\n  const { myAccount } = useAccounts()\n  const [loading, setLoading] = useState(false)\n\n  const approve = useCallback(\n    async (amount: string, callback?: any) => {\n      if (!token || !myAccount || !contractAddress) return\n      if(!web3) return\n      const amountInWei = web3.utils.toWei(amount);\n      let options = {\n        from: myAccount,\n      }\n      setLoading(true)\n      let confirmed = false\n      let errored = false\n      // Send a transaction to blockchain\n      token.methods\n        .approve(contractAddress, amountInWei)\n        .send(options)\n        .on('error', (error: any) => {\n          setLoading(false)\n          if (!errored) {\n            console.error(error)\n            errored = true\n          }\n        })\n        .on('confirmation', (confirmationNumber: any, receipt: any) => {\n          console.log('confirmationNumber', confirmationNumber)\n          console.log(receipt)\n          setLoading(false)\n          if (!confirmed) {\n            if (callback) {\n              callback()\n            }\n            confirmed = true\n          }\n        })\n    },\n    [web3, token, myAccount, contractAddress],\n  )\n\n  return {\n    approve,\n    loading\n  }\n}\n","import { store } from '../../store'\nimport { useContract } from '../useContract'\nimport { useCallback, useState } from 'react'\nimport { useAccounts } from '../useAccounts'\n\nexport const useDeposit = () => {\n  const web3 = store.web3\n  const contract = useContract()\n  const { myAccount } = useAccounts()\n  const [loading, setLoading] = useState(false)\n\n  const deposit = useCallback(\n    async (amount: string, callback?: any) => {\n      if (!contract || !myAccount) return\n      if(!web3) return\n      const amountInWei = web3.utils.toWei(amount);\n      let options = {\n        from: myAccount,\n      }\n      setLoading(true)\n      let confirmed = false\n      let errored = false\n      // Send a transaction to blockchain\n      contract.methods\n        .deposit(amountInWei)\n        .send(options)\n        .on('error', (error: any) => {\n          setLoading(false)\n          if (!errored) {\n            console.error(error)\n            errored = true\n          }\n        })\n        .on('confirmation', (confirmationNumber: any, receipt: any) => {\n          console.log('confirmationNumber', confirmationNumber)\n          console.log(receipt)\n          setLoading(false)\n          if (!confirmed) {\n            if (callback) {\n              callback()\n            }\n            confirmed = true\n          }\n        })\n    },\n    [web3, contract, myAccount],\n  )\n\n  return {\n    deposit,\n    loading\n  }\n}\n","import { store } from '../../store'\nimport { useContract } from '../useContract'\nimport { useCallback, useState } from 'react'\nimport { useAccounts } from '../useAccounts'\n\nexport const useWithdraw = () => {\n  const web3 = store.web3\n  const contract = useContract()\n  const { myAccount } = useAccounts()\n  const [loading, setLoading] = useState(false)\n\n  const withdraw = useCallback(\n    async (amount: string, callback?: any) => {\n      if (!contract || !myAccount) return\n      if(!web3) return\n      const amountInWei = web3.utils.toWei(amount);\n      let options = {\n        from: myAccount,\n      }\n      setLoading(true)\n      let confirmed = false\n      let errored = false\n      // Send a transaction to blockchain\n      contract.methods\n        .withdraw(amountInWei)\n        .send(options)\n        .on('error', (error: any) => {\n          setLoading(false)\n          if (!errored) {\n            console.error(error)\n            errored = true\n          }\n        })\n        .on('confirmation', (confirmationNumber: any, receipt: any) => {\n          console.log('confirmationNumber', confirmationNumber)\n          console.log(receipt)\n          setLoading(false)\n          if (!confirmed) {\n            if (callback) {\n              callback()\n            }\n            confirmed = true\n          }\n        })\n    },\n    [web3, contract, myAccount],\n  )\n\n  return {\n    withdraw,\n    loading\n  }\n}\n","import { useContract } from '../useContract'\nimport { useCallback, useState } from 'react'\nimport { useAccounts } from '../useAccounts'\n\nexport const useIncreaseYear = () => {\n  const contract = useContract()\n  const { myAccount } = useAccounts()\n  const [loading, setLoading] = useState(false)\n\n  const increaseYear = useCallback(\n    async (callback?: any) => {\n      if (!contract || !myAccount) return\n      let options = {\n        from: myAccount,\n      }\n      setLoading(true)\n      let confirmed = false\n      let errored = false\n\n      // Send a transaction to blockchain\n      contract.methods\n        .increaseYear()\n        .send(options)\n        .on('error', (error: any) => {\n          setLoading(false)\n          if (!errored) {\n            console.error(error)\n            errored = true\n          }\n        })\n        .on('confirmation', (confirmationNumber: any, receipt: any) => {\n          console.log('confirmationNumber', confirmationNumber)\n          console.log(receipt)\n          setLoading(false)\n\n          if (!confirmed) {\n            if (callback) {\n              window.location.reload()\n              callback()\n            }\n            confirmed = true\n          }\n        })\n    },\n    [contract, myAccount],\n  )\n\n  return {\n    increaseYear,\n    loading\n  }\n}\n","import React from 'react'\n\nimport { useWeb3 } from './hooks/useWeb3'\nimport { Header } from './components/Header'\nimport { Footer } from './components/Footer'\n// import { Voter } from './components/Voter'\nimport { SimpleBank } from './components/SimpleBank'\n\nimport { store } from './store'\nimport { observer } from 'mobx-react-lite'\n\nexport const App = observer(() => {\n  const isAddress = store.web3 ? true : false\n\n  useWeb3()\n\n  return (\n    <div>\n      <Header isAddress={isAddress} />\n      {/* { isAddress && <Voter /> } */}\n      { isAddress && <SimpleBank /> }\n      <Footer />\n    </div>\n  )\n})\n","import Web3 from 'web3'\nimport { useEffect, useCallback } from 'react'\nimport { store } from '../store'\n\nexport const useWeb3 = () => {\n  const initWeb3 = useCallback(async () => {\n    if (window.ethereum) {\n      const tmpWeb3 = new Web3(window.ethereum)\n      try {\n        const result = await window.ethereum.enable()\n        console.log('result', result)\n        store.updateWeb3(tmpWeb3)\n\n        store.updateContractAddress('0x2E75F1C09C7327C64607095B21940a950FefB741')\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  }, [])\n\n  useEffect(() => {\n    initWeb3()\n  }, [initWeb3])\n\n  return store.web3\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'antd/dist/antd.css'\nimport './index.css'\nimport './tailwind.output.css'\nimport { App } from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}